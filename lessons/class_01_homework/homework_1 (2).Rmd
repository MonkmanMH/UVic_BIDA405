---
title: "Import data: CSV, TXT and Excel"
subtitle: "Assignment: BIDA 405, week 1"
output: html_document
---

<!-- 
This file by Martin Monkman is licensed under a Creative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0). 
https://creativecommons.org/licenses/by-sa/4.0/
-->



```{r setup}
library(tidyverse)
library(readxl)
```



## 1. penguins

Everybody likes penguins! Here is some data collected at the Palmer Station in Antarctica. It's got some measurement information about three different species of penguins, from three different islands. You can find out more about the data, as well as some details about exploring the data using R, here: https://allisonhorst.github.io/palmerpenguins/ 

![palmerpenguins](logo.png)

There are 8 different variables, described in the table below:

Variable           Width   Start position   End position
--------           -----   --------------   ------------
species            9       1                9
island             9       10               18
bill_length_mm     4       19               22
bill_depth_mm      4       23               26
flipper_length_mm  3       27               29
body_mass_g        4       30               33
sex                6       34               39
year               4       40               43




The fixed-width file has been created to minimize white space. The first 4 and last 2 rows of the data look like this:

`Adelie   Torgersen39.118.71813750male  2007`

`Adelie   Torgersen39.517.41863800female2007`

`Adelie   Torgersen40.318.01953250female2007`

`Adelie   Torgersen                     2007`

`ChinstrapDream    50.819.02104100male  2009`

`ChinstrapDream    50.218.71983775female2009`

Note that the first row is _not_ the variable namesâ€”this is common in fixed-width files.


_Using what you've learned about the functions in the {readr} package, read the file "penguins_fwf.txt" into R. Assign the "sex" variable as a factor, and "year" as an integer._


```{r}
# solution


```




## 2. Excel datasets

Excel files often (almost always?) have multiple sheets in them. It's possible to specify which one you want to use with the `sheets = ""` option. You can also use the position number (if you happen to know it). 

Note that if you don't specify the sheet, {readxl} will default to the first one.

The `excel_sheets()` function will tell you the name of the sheets in an Excel file, as shown in the example below.

```{r}
datasets <- "datasets.xlsx"

excel_sheets(datasets)

# Example
read_excel(datasets, "iris")

```


_Now, create a dataframe object called "mtcars" by reading in the "mtcars" sheet, using the name of the sheet._


```{r}


```

_And finally, read in the "quakes" sheet, using the position number._

```{r}

```



## 3. Delimited files

While delimited files have some clear upsides compared to the fixed width approach, they are not without problems. Please read: 

* the wikipedia page on [delimiter separated values](https://en.wikipedia.org/wiki/Delimiter-separated_values) https://en.wikipedia.org/wiki/Delimiter-separated_values

One particular challenge with delimited files in data analysis is that here are differences around the world as how to indicate the decimal portion of a number. Here in North America we use a period (as in 3.14159) but in most European countries they use a comma (3,14159). As well, the use of digit separators in large numbers is common but how we separate them differs; the North American approach is to use a comma (so one thousand is represented as 1,000) and in other countries a space will be used (1 000).

* See the wikipedia page on [decimal separator](https://en.wikipedia.org/wiki/Decimal_separator) https://en.wikipedia.org/wiki/Decimal_separator

The {readr} package in R gives some solutions to these challenges, as well as others that result from the different ways that people communicate. See the [detailed page on "locale"](https://readr.tidyverse.org/articles/locales.html) that provides some examples of the challenges you might face:  https://readr.tidyverse.org/articles/locales.html 


> Imagine you are working for a large national company, selling big items that cost a few thousand dollars each. You've just received a plain-text CSV data file from a colleague in Quebec, with individual transaction records. 
>
> The variables include:
>
>* customer name
>
>* customer address
>
>* date and time of order
>
>* date and time of shipment
>
>* cost in dollars
>
>* GST in dollars
>
> Think about how the data might be encoded. What sorts of things will you have to watch out for when you read in the data?_



## REFERENCE MATERIAL

_R for Data Science_, "Data Import":
https://r4ds.had.co.nz/data-import.html


_R Cookbook (2nd ed.)_, "Input and Output":
https://rc2e.com/inputandoutput



### Package reference pages

{readr} 
https://readr.tidyverse.org/

{readxl}
https://readxl.tidyverse.org/index.html


